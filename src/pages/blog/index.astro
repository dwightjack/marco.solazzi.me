---
import Layout from '../../layouts/Layout.astro';
import Page from '../../components/Page.astro';
import PageSection from '../../components/PageSection.astro';
import { NAV_PATH_BLOG } from '../../shared/constants';
import Stack from '../../components/Stack.astro';
import { getBlogPosts } from '../../shared/collections';
import Card from '../../components/Card.astro';
import SkipContent from '../../components/SkipContent.astro';
import { toIdString } from '../../shared/utils';
import Footer from '../../sections/Footer.astro';

const posts = await getBlogPosts();
---

<Layout title="Marco Solazzi - Latest Blog Posts">
  <SkipContent slot="header" target={toIdString(NAV_PATH_BLOG)} />
  <Stack space={15}>
    <Page id={NAV_PATH_BLOG} mark="記事"
      ><PageSection title="blog">
        <Stack space={5}>
          {posts.map(({ details }) => <Card titleLabel="title" {...details} />)}
        </Stack>
      </PageSection>
    </Page>
    <Footer />
  </Stack>
</Layout>
<script>
  import { NAV_PATH_BLOG } from '../../shared/constants';
  import { currentRoute } from '../../shared/store';
  currentRoute.set(NAV_PATH_BLOG);
</script>
