---
import Card from '../components/Card.astro';
import Page from '../components/Page.astro';
import PageSection from '../components/PageSection.astro';
import { NAV_PATH_JOBS } from '../shared/constants';
import jobs from '../database/jobs.json';
import Stack from '../components/Stack.astro';

const [current, ...previous] = jobs;

// eslint-disable-next-line @typescript-eslint/no-unused-vars
const { href, company: currentCompany, id, ...currentData } = current;
---

<Page id={NAV_PATH_JOBS}>
  <PageSection title="jobs.current">
    <Card
      titleLabel="company"
      title={currentCompany}
      href={href}
      data={currentData}
      id="job-current"
    />
  </PageSection>
  <PageSection title="jobs.previous">
    <Stack space={5}>
      {
        previous.map(({ href, company, id, ...job }) => (
          <Card
            titleLabel="company"
            title={company}
            href={href}
            data={job}
            id={`job-previous-${id}`}
          />
        ))
      }
    </Stack>
  </PageSection>
</Page>
