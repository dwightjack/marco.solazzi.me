---
import { Sprite } from 'astro-icon';
import { toStyleVars } from '../shared/utils';
export interface Props {
  name: string;
  size?: number;
}

const { name, size = 1 } = Astro.props;
const iconName = name.includes(':') ? name : `mdi:${name}`;
---

<Sprite
  class="c-icon"
  name={iconName}
  aria-hidden="true"
  focusable="false"
  style={size !== 1 ? toStyleVars({ size }) : null}
/>

<style>
  @layer components {
    .c-icon {
      --icon-size: var(--size, 1);

      display: inline-block;
      flex-shrink: 0;
      inline-size: 1em;
      font-size: calc(var(--icon-size) * 1em);
      vertical-align: middle;
      aspect-ratio: 1;
    }
  }
</style>
